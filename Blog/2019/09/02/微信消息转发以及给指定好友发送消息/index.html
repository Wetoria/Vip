<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    
    <title>å¾®ä¿¡æ¶ˆæ¯è½¬å‘ä»¥åŠç»™æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯ | Wetoria</title>
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <meta name="description" content="Fake it until become it">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="å¾®ä¿¡æ¶ˆæ¯è½¬å‘ä»¥åŠç»™æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯ | Wetoria">
    <meta name="twitter:description" content="Fake it until become it">

    <meta property="og:type" content="article">
    <meta property="og:title" content="å¾®ä¿¡æ¶ˆæ¯è½¬å‘ä»¥åŠç»™æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯ | Wetoria">
    <meta property="og:description" content="Fake it until become it">

    
    <meta name="author" content="Vip">
    
    <link rel="stylesheet" href="./css/vno.css">
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">

    
    <link rel="icon" href="./images/avatar-small.png">
    

    <meta name="generator" content="hexo"/>
    

    <link rel="canonical" href="http://yoursite.com/2019/09/02/å¾®ä¿¡æ¶ˆæ¯è½¬å‘ä»¥åŠç»™æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯/"/>

    

    
      
</head>

<body class="home-template no-js">
    <script src="https://cdn.bootcss.com/jquery/2.1.4/jquery.min.js"></script>
    <script src="./js/main.js"></script>
    <span class="mobile btn-mobile-menu">
        <i class="fa fa-list btn-mobile-menu__icon"></i>
        <i class="fa fa-angle-up btn-mobile-close__icon hidden"></i>
    </span>

    
<header class="panel-cover panel-cover--collapsed" style="background-image: url(./images/background-cover.jpg)">
  <div class="panel-main">
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        <a href="./" title="å‰å¾€ Wetoria çš„ä¸»é¡µ"><img src="./images/wetoria.jpg" width="80" alt="Wetoria logo" class="panel-cover__logo logo" /></a>
        <h1 class="panel-cover__title panel-title"><a href="./" title="link to homepage for Wetoria">Wetoria</a></h1>
        
        <hr class="panel-cover__divider" />
        <p class="panel-cover__description">Fake it until become it</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary" />

        <div class="navigation-wrapper">
          <div>
          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="./#blog" title="è®¿é—®åšå®¢" class="blog-button">åšå®¢</a></li>
            
            </ul>
          </nav>
          </div>
          <div>
          <nav class="cover-navigation navigation--social">
  <ul class="navigation">

  <!-- Weibo-->
  

  <!-- Github -->
  
  <li class="navigation__item">
    <a href="https://github.com/wetoria" title="æŸ¥çœ‹æˆ‘çš„GitHubä¸»é¡µ" target="_blank">
      <i class='social fa fa-github'></i>
      <span class="label">Github</span>
    </a>
  </li>


<!-- Stack Overflow -->
        

  <!-- Google Plus -->
  

<!-- Facebook -->

  
<!-- Twitter -->

  



  </ul>
</nav>

          </div>
        </div>

      </div>

    </div>

    <div class="panel-cover--overlay cover-slate"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner">
            <article class="post-container post-container--single">

  <header class="post-header">
    <div class="post-meta">
      <time datetime="2019-09-01T16:40:12.463Z" class="post-list__meta--date date">2019-09-02</time> &#8226; <span class="post-meta__tags tags">äº&nbsp; </span>
      <span class="page-pv">
      &nbsp;é˜…è¯»&nbsp;<span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span>
      </span> 
   
    </div>
    <h1 class="post-title">å¾®ä¿¡æ¶ˆæ¯è½¬å‘ä»¥åŠç»™æŒ‡å®šå¥½å‹å‘é€æ¶ˆæ¯</h1>
  </header>

  <section class="post">
    <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><blockquote>
<p>Just do it.</p>
</blockquote>
<p>æœ¬æ–‡ä¸»è¦æå†™è¿™ä¸¤ä¸ªåŠŸèƒ½çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œè‡ªå·±éƒ½ç»å†è¿‡å“ªäº›é˜¶æ®µï¼Œä»¥åŠå¦‚ä½•ä¸€æ­¥æ­¥ä»ä¸€å¼€å§‹éƒ½ä¸ä¼šåšMacOSé€†å‘å¼€å‘ï¼Œåˆ°äº†è§£åˆ«äººçš„é¡¹ç›®ï¼Œå†åˆ°å®ç°è‡ªå·±æƒ³è¦çš„åŠŸèƒ½ã€‚å†åŠ ä¸Šå½“æ—¶æ­£åœ¨çœ‹çš„ä¸€æœ¬ä¹¦ä¸­ï¼Œæè¿°çš„å†…å®¹åœ¨è¿™æ¬¡å¼€å‘ä¸­å¾—åˆ°äº†ä½“ç°ï¼Œäºæ˜¯æƒ³è®°å½•ä¸‹æ¥ï¼Œç»™è¿™æ®µéš¾å¾—çš„ç»å†ç•™ä¸ªçºªå¿µï¼Œä¹Ÿä¸ºé‚£äº›åœ¨è¸å‡ºç¬¬ä¸€æ­¥å‰è¿·èŒ«çš„å„ä½ï¼Œç‚¹äº®ä¸€ç›çƒ›ç«ã€‚Just do itã€‚</p>
<p>æ’ä»¶åŠŸèƒ½åŸºäºWeChatPlugin-MacOSï¼Œä½œè€…<a href="https://github.com/TKkk-iOSer" target="_blank" rel="noopener">TK</a>ã€‚</p>
<hr>
<h2 id="ä¸»è¦ç»å†"><a href="#ä¸»è¦ç»å†" class="headerlink" title="ä¸»è¦ç»å†"></a>ä¸»è¦ç»å†</h2><h3 id="æ— ä»ä¸‹æ‰‹"><a href="#æ— ä»ä¸‹æ‰‹" class="headerlink" title="æ— ä»ä¸‹æ‰‹"></a>æ— ä»ä¸‹æ‰‹</h3><p>åœ¨æƒ³è¦å®ç°è¯¥åŠŸèƒ½æ—¶ï¼ŒTKå·²ç»ç§»é™¤äº†è¯¥é¡¹ç›®ï¼Œç„¶åå‘ç°<a href="https://github.com/MustangYM" target="_blank" rel="noopener">MustangYM</a>åœ¨ç»§ç»­ç»´æŠ¤è¿™ä¸ªé¡¹ç›®ã€‚è¿™ä¸ªæ—¶å€™çš„æˆ‘ä»¥å‰ç¿»è¿‡ä¸¤é¡µã€ŠObjective-CåŸºç¡€æ•™ç¨‹ã€‹ï¼Œä»¥åŠæœ‰ä¸€äº›Javaå’Œå‰ç«¯å¼€å‘çš„ç›¸å…³ç»éªŒï¼Œä½†æ˜¯å¯¹äºMacOSé€†å‘ï¼Œä»¥åŠå¦‚ä½•å†™OBJCçš„ä»£ç å®Œå…¨æ²¡æœ‰å¤´ç»ªï¼Œæ‰¾åˆ°MustangYMçš„æ—¶å€™ï¼Œæˆ‘è¿˜ç»™ä»–å‘äº†ä¸€å°é‚®ä»¶ï¼Œè¯¢é—®æ˜¯å¦èƒ½å¤Ÿæä¾›ä¸€äº›æŒ‡å¯¼æ–¹å‘ï¼Œé‚£ä¸ªæ—¶å€™æ˜¯7æœˆ16å·ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/9/1/16ced5b559d86031?w=1068&amp;h=184&amp;f=png&amp;s=57885" alt></p>
<h3 id="æŸ³æš—èŠ±æ˜"><a href="#æŸ³æš—èŠ±æ˜" class="headerlink" title="æŸ³æš—èŠ±æ˜"></a>æŸ³æš—èŠ±æ˜</h3><p>åœ¨ç»™MustangYMå‘äº†é‚®ä»¶ä¸€æ®µæ—¶é—´ä»¥åï¼Œå¹¶æ²¡æœ‰å¾—åˆ°å›ä¿¡ã€‚æœ‰ä¸€å¤©è·ŸåŒäº‹è¯´åˆ°äº†è¿™ä¸ªä¸œè¥¿ï¼Œåœ¨å¸®ä»–å¼„çš„è¿‡ç¨‹ä¸­ï¼Œçªç„¶å‘ç°äº†TKçš„é¡¹ç›®æ–‡ä»¶ä¸­æœ‰å†™å¦‚ä½•è¿›è¡Œç¼–è¯‘ï¼Œç„¶åæ ¹æ®æè¿°è¯•ç€å»è·‘èµ·æ¥é¡¹ç›®ï¼Œä¸­é—´åœ¨<code>pos install</code>ä¹Ÿå› ä¸ºå„ç§æƒ…å†µé‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæ‰€å¹¸æœ€åæ˜¯å°†é¡¹ç›®å¯åŠ¨äº†èµ·æ¥ï¼Œå¹¶ä¸”èƒ½å¤Ÿè¿›å…¥æ–­ç‚¹è¿›è¡Œè°ƒè¯•ã€‚</p>
<h3 id="åŠŸèƒ½å¼€å‘"><a href="#åŠŸèƒ½å¼€å‘" class="headerlink" title="åŠŸèƒ½å¼€å‘"></a>åŠŸèƒ½å¼€å‘</h3><p>åœ¨å¯ä»¥è¿›è¡Œè°ƒè¯•ä»¥åï¼Œåˆè¿‡å»äº†é‚£ä¹ˆä¸€æ®µæ—¶é—´ï¼Œè¿™æ®µæ—¶é—´è‹¦äºçœ‹ä¸æ‡‚OBJCçš„ä»£ç ï¼Œä¹Ÿä¸ä¼šç”¨Xcodeï¼Œç„¶åæˆ‘åˆæç½®äº†ä¸€æ®µæ—¶é—´ã€‚åœ¨ç»™è‡ªå·±å¼€å‘å¦å¤–ä¸€ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œéœ€è¦å¯¹æ¥å°è±¡ç¬”è®°ï¼Œä½†æ˜¯JavaScript SDKä¸€ç›´401ï¼Œåœ¨å¤´ç–¼SDKå¯¹æ¥ä¸æˆåŠŸçš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°å¼€å‘æ–‡æ¡£ä¸­æœ‰Macæœ¬åœ°APIï¼Œæ‰“å¼€å‘ç°ä½¿ç”¨çš„æ˜¯AppleScriptè„šæœ¬ã€‚</p>
<p>åœ¨ä½¿ç”¨WeChatPluginè¿™ä¸ªæ’ä»¶æ—¶ï¼Œå°±å¾ˆå¥½å¥‡ä¸ºä»€ä¹ˆä»–èƒ½é€šè¿‡ç»™è‡ªå·±å‘æ¶ˆæ¯å®ç°è¿œç¨‹æ§åˆ¶ã€‚åœ¨è¿™ä¸ªæ—¶å€™æœ‰æ‰’è¿‡æºç ï¼Œäº†è§£åˆ°æ˜¯é€šè¿‡AppleScriptæ¥æ§åˆ¶Macä¸Šçš„åº”ç”¨çš„ï¼Œå¹¶ä¸”ä½¿ç”¨AppleScriptåšäº†ä¸€ä¸ªç®€å•çš„æ§åˆ¶ç½‘æ˜“äº‘æ’­æ”¾å’Œåˆ‡æ­Œçš„Workflowï¼Œé‚£ä¹ˆçœ‹åˆ°å°è±¡ç¬”è®°æ”¯æŒAppleScriptæ—¶ï¼Œå°±æ¥äº†å…´è¶£ï¼Œäºæ˜¯å°±å†™äº†è„šæœ¬å®ç°äº†è‡ªå·±é¡¹ç›®çš„ä¸€ä¸ªåŠŸèƒ½ã€‚</p>
<p>åŠŸèƒ½å®Œæˆä»¥åï¼Œå°±å¼€å§‹æ£é¼“AppleScriptï¼Œå‘ç°å¾®ä¿¡å¹¶æ²¡æœ‰æä¾›å­—å…¸ï¼Œæˆ‘å°±å°è¯•ç€è¿›è¡Œäº†å‡ ä¸ªæµ‹è¯•ï¼Œçœ‹æ˜¯å¦èƒ½é€šè¿‡ç‰¹å®šçš„é”®ç›˜æ“ä½œå®ç°æ‰¾åˆ°å¥½å‹ï¼Œå¹¶ç»™å¥½å‹å‘é€æ¶ˆæ¯ï¼Œæ¥ç€å°è¯•ä½¿ç”¨è„šæœ¬æ¥æ§åˆ¶å¾®ä¿¡å‘æ¶ˆæ¯ï¼Œç»“æœæ˜¯æˆåŠŸçš„ï¼Œç›¸å…³è„šæœ¬å¦‚ä¸‹ã€‚<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æœç´¢å¥½å‹ï¼Œå¹¶å‘é€æŒ‡å®šæ¶ˆæ¯</span></span><br><span class="line"><span class="keyword">tell</span> <span class="built_in">application</span> <span class="string">"WeChat"</span> <span class="keyword">to</span> <span class="built_in">activate</span></span><br><span class="line"><span class="keyword">tell</span> <span class="built_in">application</span> <span class="string">"System Events"</span></span><br><span class="line">	key code <span class="number">3</span> using &#123;command down&#125;</span><br><span class="line">	keystroke <span class="string">"ä¼šè¯åç§°"</span></span><br><span class="line">	<span class="built_in">delay</span> <span class="number">1</span></span><br><span class="line">	key code <span class="number">36</span></span><br><span class="line">	key code <span class="number">49</span> using &#123;control down&#125;</span><br><span class="line">	<span class="built_in">delay</span> <span class="number">2</span></span><br><span class="line">	keystroke <span class="string">"æ¶ˆæ¯"</span></span><br><span class="line">	key code <span class="number">49</span></span><br><span class="line">	key code <span class="number">36</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">tell</span></span><br></pre></td></tr></table></figure></p>
<p>è”æƒ³åˆ°è¿œç¨‹æ§åˆ¶çš„å®ç°æ–¹å¼ï¼Œæˆ‘å°±æƒ³æ˜¯ä¸æ˜¯ä¹Ÿèƒ½é€šè¿‡è§¦å‘è„šæœ¬çš„æ–¹å¼æ¥å®ç°ç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„åŠŸèƒ½ï¼Œäºæ˜¯å°±å¼€å§‹äº†æ–°ä¸€è½®çš„æŠ˜è…¾ã€‚</p>
<h4 id="å¼€å‘æ¶ˆæ¯è½¬å‘åŠŸèƒ½"><a href="#å¼€å‘æ¶ˆæ¯è½¬å‘åŠŸèƒ½" class="headerlink" title="å¼€å‘æ¶ˆæ¯è½¬å‘åŠŸèƒ½"></a>å¼€å‘æ¶ˆæ¯è½¬å‘åŠŸèƒ½</h4><p>åœ¨ä¸€æ­¥æ­¥æŸ¥çœ‹è¿œç¨‹æ§åˆ¶çš„ä»£ç çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°éƒ½ä¼šç»è¿‡ä¸‹é¢è¿™ä¸ªæ–¹æ³•ï¼Œç„¶åæˆ‘çœ‹æ‡‚äº†<code>autoReplyWithMsg</code>ï¼Œé€šè¿‡è°ƒè¯•å‘ç°æ¥æ”¶æ¶ˆæ¯æ˜¯éƒ½ä¼šç»è¿‡æ¶ˆæ¯åŒæ­¥ï¼Œå¹¶ä¸”åœ¨è‡ªåŠ¨å›å¤ä¸­æœ‰ä¸€ä¸ª<code>replyWithMsg</code>æ–¹æ³•ï¼Œçœ‹ä½œç”¨åº”è¯¥æ˜¯å‘é€æ¶ˆæ¯ç”¨çš„ï¼Œäºæ˜¯æˆ‘å°±å¿˜è®°äº†è¿œç¨‹æ§åˆ¶ï¼Œå¼€å§‹äº†æŠ˜è…¾æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œè½¬å‘ç»™å¥½å‹é‡Œçš„æŸä¸ªç”¨æˆ·ã€‚<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> hook å¾®ä¿¡æ¶ˆæ¯åŒæ­¥</span><br><span class="line"> </span><br><span class="line"> */</span><br><span class="line">- (void)hook_OnSyncBatchAddMsgs:(<span class="type">NSArray</span> *)msgs isFirstSync:(<span class="type">BOOL</span>)arg2 &#123;</span><br><span class="line">    // å…¶ä»–ä¸€äº›ä»£ç </span><br><span class="line">    </span><br><span class="line">    [<span class="keyword">self</span> autoReplyWithMsg:addMsg];</span><br><span class="line">    </span><br><span class="line">    if ([addMsg.fromUserName.string isEqualToString:currentUserName]</span><br><span class="line">        &amp;&amp; [addMsg.toUserName.string isEqualToString:currentUserName]) &#123;</span><br><span class="line">        [<span class="keyword">self</span> remoteControlWithMsg:addMsg];</span><br><span class="line">        [<span class="keyword">self</span> replySelfWithMsg:addMsg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶ååˆ†æ<code>autoReplyWithMsg</code>è¿™ä¸ªæ–¹æ³•ï¼Œä¸€çœ¼æœ›è¿‡å»æ ¹æœ¬ä¸æƒ³å»äº†è§£æ¯ä¸€è¡Œéƒ½æ˜¯å¹²å˜›çš„ï¼Œå°±è§‰å¾—â€œæˆ‘çœ‹ä¸æ‡‚å•Šï¼Œè¿™éƒ½æ˜¯ä»€ä¹ˆç©æ„ï¼ŒMy godï¼Œæ•‘æ•‘æˆ‘å§â€ã€‚<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> è‡ªåŠ¨å›å¤</span><br><span class="line"> </span><br><span class="line"> @param addMsg æ¥æ”¶çš„æ¶ˆæ¯</span><br><span class="line"> */</span><br><span class="line">- (void)autoReplyWithMsg:(<span class="type">AddMsg</span> *)addMsg &#123;</span><br><span class="line">    //    addMsg.msgType != <span class="number">49</span></span><br><span class="line">    if (![[<span class="type">TKWeChatPluginConfig</span> sharedConfig] autoReplyEnable]) return;</span><br><span class="line">    if (addMsg.msgType != <span class="number">1</span> &amp;&amp; addMsg.msgType != <span class="number">3</span>) return;</span><br><span class="line">    </span><br><span class="line">    <span class="type">NSString</span> *userName = addMsg.fromUserName.string;</span><br><span class="line">    </span><br><span class="line">    <span class="type">MMSessionMgr</span> *sessionMgr = [[objc_getClass(<span class="comment">"MMServiceCenter"</span>) defaultCenter] getService:objc_getClass(<span class="comment">"MMSessionMgr"</span>)];</span><br><span class="line">    <span class="type">WCContactData</span> *msgContact = [sessionMgr getContact:userName];</span><br><span class="line">    if ([msgContact isBrandContact] || [msgContact isSelf]) &#123;</span><br><span class="line">        //        è¯¥æ¶ˆæ¯ä¸ºå…¬ä¼—å·æˆ–è€…æœ¬äººå‘é€çš„æ¶ˆæ¯</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">NSArray</span> *autoReplyModels = [[<span class="type">TKWeChatPluginConfig</span> sharedConfig] autoReplyModels];</span><br><span class="line">    [autoReplyModels enumerateObjectsUsingBlock:^(<span class="type">TKAutoReplyModel</span> *model, <span class="type">NSUInteger</span> idx, <span class="type">BOOL</span> * _Nonnull stop) &#123;</span><br><span class="line">        if (!model.enable) return;</span><br><span class="line">        if (!model.replyContent || model.replyContent.length == <span class="number">0</span>) return;</span><br><span class="line">        </span><br><span class="line">        if (model.enableSpecificReply) &#123;</span><br><span class="line">            if ([model.specificContacts containsObject:userName]) &#123;</span><br><span class="line">                [<span class="keyword">self</span> replyWithMsg:addMsg model:model];</span><br><span class="line">            &#125;</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">        if ([addMsg.fromUserName.string containsString:@<span class="comment">"@chatroom"</span>] &amp;&amp; !model.enableGroupReply) return;</span><br><span class="line">        if (![addMsg.fromUserName.string containsString:@<span class="comment">"@chatroom"</span>] &amp;&amp; !model.enableSingleReply) return;</span><br><span class="line">        </span><br><span class="line">        [<span class="keyword">self</span> replyWithMsg:addMsg model:model];</span><br><span class="line">    &#125;];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å¯æ˜¯åœ¨çœ‹æ¶ˆæ¯åŒæ­¥çš„æ–¹æ³•æ—¶ï¼Œç•™ä¸‹äº†ä¸€ä¸ªæƒ³æ³•ï¼Œé‚£å°±æ˜¯çœ‹ä¸æ‡‚æŸä¸ªç¼–ç¨‹è¯­è¨€æ—¶ï¼Œçœ‹<code>if</code>å‡†æ²¡é”™ï¼Œäºæ˜¯æˆ‘å°±å»çœ‹äº†æœ€åå‡ è¡Œ<code>if</code>ä»¥åŠé‡Œé¢çš„ç›¸å…³ä»£ç ï¼Œä¸çŸ¥é“<code>model</code>æ˜¯å¹²å˜›çš„ï¼Œä¸€ç•ªæŠ˜è…¾åå‘ç°æ˜¯å¼•å…¥çš„ä¸€ä¸ªæ–‡ä»¶ï¼Œçœ‹åˆ°ä¸‹é¢è¿™äº›æ–‡ä»¶é‡Œçš„å†…å®¹ï¼Œæ‰“å¼€è‡ªåŠ¨å›å¤çš„è®¾ç½®ç•Œé¢å¯¹æ¯”äº†ä¸€ä¸‹ï¼Œæƒ³ç€â€œå—¯ï¼Œè¿™åº”è¯¥å°±æ˜¯è‡ªåŠ¨å›å¤çš„ç›¸å…³é…ç½®äº†ã€‚â€</p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">#import</span> <span class="comment">"TKBaseModel.h"</span></span><br><span class="line"></span><br><span class="line">@interface <span class="type">TKAutoReplyModel</span> : <span class="type">TKBaseModel</span></span><br><span class="line"></span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enable;                  /**&lt;    æ˜¯å¦å¼€å¯è‡ªåŠ¨å›å¤     */</span><br><span class="line">@property (nonatomic, copy) <span class="type">NSString</span> *keyword;              /**&lt;    è‡ªåŠ¨å›å¤å…³é”®å­—       */</span><br><span class="line">@property (nonatomic, copy) <span class="type">NSString</span> *replyContent;         /**&lt;    è‡ªåŠ¨å›å¤çš„å†…å®¹       */</span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enableGroupReply;        /**&lt;    æ˜¯å¦å¼€å¯ç¾¤èŠè‡ªåŠ¨å›å¤  */</span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enableSingleReply;       /**&lt;    æ˜¯å¦å¼€å¯ç§èŠè‡ªåŠ¨å›å¤  */</span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enableRegex;             /**&lt;    æ˜¯å¦å¼€å¯æ­£åˆ™åŒ¹é…     */</span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enableDelay;             /**&lt;    æ˜¯å¦å¼€å¯å»¶è¿Ÿå›å¤     */</span><br><span class="line">@property (nonatomic, assign) <span class="type">NSInteger</span> delayTime;          /**&lt;    å»¶è¿Ÿæ—¶é—´            */</span><br><span class="line">@property (nonatomic, assign) <span class="type">BOOL</span> enableSpecificReply;     /**&lt;    æ˜¯å¦å¼€å¯ç‰¹å®šå›å¤     */</span><br><span class="line">@property (nonatomic, strong) <span class="type">NSArray</span> *specificContacts;    /**&lt;    ç‰¹å®šå›å¤çš„è”ç³»äºº     */</span><br><span class="line"></span><br><span class="line">- (<span class="type">BOOL</span>)hasEmptyKeywordOrReplyContent;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure>
<p>æ˜ç™½äº†ä½œç”¨ï¼Œå†åŠ ä¸Šä»£ç çš„è‡ªæè¿°ï¼ŒçŸ¥é“è¿™ä¸€æ®µåº”è¯¥å°±æ˜¯è·Ÿç‰¹å®šè”ç³»äººå›å¤çš„ç›¸å…³ä»£ç ï¼Œä¸‹ä¸€æ­¥-&gt;æ·»åŠ ç‰¹å®šè”ç³»äººï¼Œå¼€å§‹æµ‹è¯•ã€‚ï¼ˆå…¶å®æˆ‘åˆ°ç°åœ¨éƒ½ä¸è®°å¾—ä¸‹é¢è¿™å‡ è¡Œä»£ç å†™äº†å“ªå‡ ä¸ªå­—æ¯ğŸ™„ï¼Œåœ¨é‡Œé¢åŠ ä»£ç å°±å®Œäº‹äº†ï¸ï¼‰<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">if (model.enableSpecificReply) &#123;</span><br><span class="line">    if ([model.specificContacts containsObject:userName]) &#123;</span><br><span class="line">        [<span class="keyword">self</span> replyWithMsg:addMsg model:model];</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åé¢çš„è¿‡ç¨‹å°±æ˜¯æ‰’<code>replyWithMsg</code>è¿™ä¸ªæ–¹æ³•ï¼Œæ‰¾åˆ°<code>[[TKMessageManager shareManager] sendTextMessage:randomReplyContent toUsrName:addMsg.fromUserName.string delay:delayTime];</code>è¿™è¡Œä»£ç æ˜¯å‘é€æ¶ˆæ¯çš„ï¼Œæœ‰æ ·å­¦æ ·ï¼Œå†™ä¸€ä¸ªè½¬å‘çš„æ–¹æ³•å‡ºæ¥ã€‚å­—ç¬¦ä¸²æ€ä¹ˆæ‹¼æ¥ï¼Ÿä¸ä¼šï¼Œè°·æ­Œâ€œobejctive-c å­—ç¬¦ä¸²æ‹¼æ¥â€ã€‚ç”¨æˆ·åæ€ä¹ˆå–ï¼Ÿä¸ä¼šï¼Œæ‰¾ä¸ªç›¸åŒçš„ä»£ç ï¼ŒæŠ„è¿‡æ¥ã€‚å®Œæˆï¼Œè½¬å‘æ¶ˆæ¯çš„æ–¹æ³•å°±å‡ºæ¥äº†ã€‚</p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">- (void)replyToMySelf:(<span class="type">AddMsg</span> *)addMsg model:(<span class="type">TKAutoReplyModel</span> *)model &#123;</span><br><span class="line">    <span class="type">NSString</span>* msgContent;</span><br><span class="line">    <span class="type">NSString</span>* str1;</span><br><span class="line">    <span class="type">MMSessionMgr</span> *sessionMgr = [[objc_getClass(<span class="comment">"MMServiceCenter"</span>) defaultCenter] getService:objc_getClass(<span class="comment">"MMSessionMgr"</span>)];</span><br><span class="line">    <span class="type">WCContactData</span> *msgContact = [sessionMgr getContact:addMsg.fromUserName.string];</span><br><span class="line">    // æ ¼å¼åŒ–æ¶ˆæ¯ï¼Œæ¥æºç”¨æˆ·ï¼Œåˆ†éš”ç¬¦ï¼Œæ¶ˆæ¯å†…å®¹</span><br><span class="line">    str1 = [msgContact.m_nsNickName stringByAppendingString:@<span class="comment">"\n---\n"</span>];</span><br><span class="line">    msgContent = [str1 stringByAppendingString:addMsg.content.string];</span><br><span class="line">    <span class="type">NSInteger</span> delayTime = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    // å°†æ ¼å¼åŒ–å¥½çš„æ¶ˆæ¯è½¬å‘ç»™usernameè¿™ä¸ªå¾®ä¿¡å·</span><br><span class="line">    // æˆ‘çš„æœ¬åœ°ä»£ç ä¸­ï¼Œå†™æ­»äº†ä¸€ä¸ªå¾®ä¿¡è´¦å·ï¼Œè¿™é‡Œä½¿ç”¨usernameæ›¿ä»£äº†</span><br><span class="line">    [[<span class="type">TKMessageManager</span> shareManager] sendTextMessage:msgContent toUsrName:@<span class="comment">"username"</span> delay:delayTime];</span><br><span class="line">    // å°†æ¥ä¿¡ç”¨æˆ·çš„å¾®ä¿¡å·å‘é€ç»™usernameï¼Œç”¨äºç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„æ—¶å€™ä½¿ç”¨</span><br><span class="line">    [[<span class="type">TKMessageManager</span> shareManager] sendTextMessage:addMsg.fromUserName.string toUsrName:@<span class="comment">"username"</span> delay:delayTime];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="å¼€å‘ç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„åŠŸèƒ½"><a href="#å¼€å‘ç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„åŠŸèƒ½" class="headerlink" title="å¼€å‘ç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„åŠŸèƒ½"></a>å¼€å‘ç»™æŒ‡å®šå¥½å‹å‘æ¶ˆæ¯çš„åŠŸèƒ½</h4><p>ç»è¿‡è¿™ä¹ˆä¸€ç•ªæŠ˜è…¾ï¼ŒWeChatPluginçš„ä»£ç ï¼Œå¼€å§‹çœ¼ç†Ÿäº†èµ·æ¥ã€‚åœ¨ä¸Šé¢æ¶ˆæ¯åŒæ­¥çš„æ–¹æ³•ä¸­ï¼ŒåŠ å…¥ä¸‹é¢ä»£ç ï¼ŒOKï¼Œå®Œæˆã€‚<br><figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">if ([addMsg.fromUserName.string isEqualToString:@<span class="comment">"username"</span>]</span><br><span class="line">    &amp;&amp; [addMsg.toUserName.string isEqualToString:currentUserName]) &#123;</span><br><span class="line">    <span class="type">NSString</span> *content = addMsg.content.string;</span><br><span class="line">    if ([content hasPrefix:@<span class="comment">"Reply:"</span>]) &#123;</span><br><span class="line">        <span class="type">NSArray</span> *list = [content componentsSeparatedByString: @<span class="comment">":"</span>];</span><br><span class="line">        if ([list count] == <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="type">NSString</span> *toUserName = list[<span class="number">1</span>];</span><br><span class="line">            <span class="type">NSString</span> *toContent = list[<span class="number">2</span>];</span><br><span class="line">            [[<span class="type">TKMessageManager</span> shareManager] sendTextMessage:toContent toUsrName:toUserName delay:<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        [<span class="keyword">self</span> remoteControlWithMsg:addMsg];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>åœ¨å®ç°è¿™ä¸¤ä¸ªåŠŸèƒ½çš„è¿‡ç¨‹ä¸­ï¼Œæ„Ÿå—åˆ°ç”Ÿæ´»ä¸­çš„æ¯ä¸ªç‚¹ï¼Œéƒ½æ˜¯å¦‚ä½•ç›¸äº’å½±å“çš„ï¼Œä¹Ÿä½“ä¼šåˆ°ä¹¦ä¸­çš„å†…å®¹ï¼Œåˆæ˜¯å¦‚ä½•åœ¨è‡ªå·±èº«ä¸Šè·å¾—å°è¯çš„ï¼Œä¹Ÿæ”¶è·äº†ç”¨è‡ªå·±æ‰€å­¦å®ç°è‡ªå·±æƒ³æ³•çš„å–œæ‚¦ã€‚æ„Ÿè°¢TKå¤§ä½¬çš„å°è£…ï¼Œè®©æˆ‘èƒ½è¿™ä¹ˆç®€å•ä¾¿å®ç°æˆ‘æƒ³è¦çš„åŠŸèƒ½ã€‚ä»£ç å¹¶ä¸å®Œç¾ï¼Œä½†èƒ½æ»¡è¶³æˆ‘ç°åœ¨çš„éœ€æ±‚ï¼Œå¹¶ä¸”ç»è¿‡è¿™æ¬¡å¼€å‘ï¼Œåœ¨è‡ªå·±æ£é¼“è½¯ä»¶ä¸Šï¼Œåˆå‰è¿›äº†ä¸€æ­¥ï¼Œä¸å®Œç¾çš„ä»£ç å¯ä»¥åœ¨ä»¥åä¸æ–­å®Œå–„ã€‚</p>
<blockquote>
<p>å¤ªè¿‡è¿½æ±‚å®Œç¾ï¼Œä¼šé˜»æ­¢ä½ è¿ˆå‡ºå‰è¿›çš„æ­¥ä¼ã€‚<br>ä¸è‹›æ±‚å®Œç¾ï¼Œä¼šé˜»æ­¢ä½ ä¸æ–­æˆé•¿çš„æ­¥ä¼ã€‚<br>å…±å‹‰ã€‚</p>
</blockquote>

  </section>

</article>
<section class="read-more">
           
    
               
            <div class="read-more-item">
                <span class="read-more-item-dim">æœ€è¿‘çš„æ–‡ç« </span>
                <h2 class="post-list__post-title post-title"><a href="./2020/01/08/$emitæœ‰æ—¶ä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ç”¨/" title="$emitæœ‰æ—¶ä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ç”¨">$emitæœ‰æ—¶ä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ç”¨</a></h2>
                <p class="excerpt">
                
                èƒŒæ™¯åœ¨é¡¹ç›®ä¸­ï¼Œè‡ªå®šä¹‰äº†ä¸€ä¸ªç»„ä»¶ï¼Œåœ¨ç‚¹å‡»å­ç»„ä»¶æ—¶ï¼Œè§¦å‘é€‰ä¸­äº‹ä»¶ï¼Œå¹¶é€šè¿‡$emitï¼Œå°†å­ç»„ä»¶çš„æ•°æ®ä¼ é€’ç»™çˆ¶ç»„ä»¶ï¼Œå¦å¤–æœ‰ä¸€ä¸ªå…¨é€‰æŒ‰é’®æ¥è§¦å‘å­ç»„ä»¶çš„å…¨éƒ¨é€‰ä¸­ã€‚æœ¬æ¥æŒ‰ç…§è®¾æƒ³ï¼Œå­ç»„ä»¶çš„äº‹æƒ…äº¤ç»™å­ç»„ä»¶å¤„ç†ï¼Œåœ¨ä¿®æ”¹å­ç»„ä»¶çš„çŠ¶æ€æ—¶é€šè¿‡$emitæ¥è¿›è¡Œæ•°æ®äº¤äº’ï¼Œä½†æ˜¯åœ¨æ•°æ®é‡è¶…å‡ºä¸€å®šç¨‹åº¦æ—¶ï¼Œ$emitå¾ˆå½±å“æ€§èƒ½ã€‚
å…¶å®è¿™
                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2020-01-08T14:41:24.040Z" class="post-list__meta--date date">2020-01-08</time> &#8226; <span class="post-list__meta--tags tags">äº&nbsp;
  <a class="tag-link" href="./tags/Vue/">Vue</a>
</span><a class="btn-border-small" href="./2020/01/08/$emitæœ‰æ—¶ä¹Ÿå¹¶æ²¡æœ‰é‚£ä¹ˆå¥½ç”¨/">ç»§ç»­é˜…è¯»</a></div>
                           
            </div>
        
        
               
            <div class="read-more-item">
                <span class="read-more-item-dim">æ›´æ—©çš„æ–‡ç« </span>
                <h2 class="post-list__post-title post-title"><a href="./2019/08/28/Vueé€šç”¨è‡ªå®šä¹‰Resizeç»„ä»¶/" title="Vueé€šç”¨è‡ªå®šä¹‰Resizeç»„ä»¶">Vueé€šç”¨è‡ªå®šä¹‰Resizeç»„ä»¶</a></h2>
                <p class="excerpt">
                
                1.èƒŒæ™¯é¡¹ç›®åŸºäºVue+Element-UIï¼Œæ–°æ¥åˆ°çš„éœ€æ±‚æ˜¯ç‚¹å‡»æŒ‰é’®èƒ½å¤Ÿä»å³ä¾§å¼¹å‡ºä¸€ä¸ªé¡µé¢ï¼Œå¹¶èƒ½æ§åˆ¶è¯¥å¼¹å‡ºé¡µé¢çš„å®½åº¦ã€‚åœ¨Element-UIä¸­æœ‰ä¸€ä¸ªæŠ½å±‰(Drawer)ç»„ä»¶ï¼Œæ”¯æŒç‚¹å‡»ä»æµè§ˆå™¨ä¾§è¾¹å¼¹å‡ºï¼Œä½†ä¸èƒ½å®ç°å®½åº¦çš„è°ƒæ•´ï¼Œäºæ˜¯è‡ªå·±æƒ³åˆ°å®ç°ä¸€ä¸ªé€šç”¨çš„Resizeç»„ä»¶ï¼Œä»¥åå¦‚æœè¦ä½¿ç”¨æ—¶ï¼Œå¯ä»¥ç›´æ¥å¼•å…¥ã€‚

                &hellip;
                </p>
                <div class="post-list__meta"><time datetime="2019-08-28T12:09:26.523Z" class="post-list__meta--date date">2019-08-28</time> &#8226; <span class="post-list__meta--tags tags">äº&nbsp;
  <a class="tag-link" href="./tags/Vue/">Vue</a>
</span><a class="btn-border-small" href="./2019/08/28/Vueé€šç”¨è‡ªå®šä¹‰Resizeç»„ä»¶/">ç»§ç»­é˜…è¯»</a></div>
                       
            </div>
        
     
   
   
  
</section>

            
            <footer class="footer">
    <span class="footer__copyright">
        æœ¬ç«™ç‚¹é‡‡ç”¨ <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº« 4.0 å›½é™…è®¸å¯åè®®</a>
    </span>
    <span class="footer__copyright">
        åŸºäº <a href="http://hexo.io">Hexo</a> æ­å»ºï¼Œæ„Ÿè°¢ <a href="https://pages.github.com/">GitHub Pages</a> æä¾›å…è´¹çš„æ‰˜ç®¡æœåŠ¡
    </span>
    <span class="footer__copyright">
        &copy; 2020 - æœ¬ç«™ç”± <a href="./">@Wetoria</a> åˆ›å»º,
        ä½¿ç”¨ <a href="https://github.com/monniya/hexo-theme-new-vno ">hexo-theme-new-vno</a> ä¸»é¢˜,
        ä¿®æ”¹è‡ª <a href="https://github.com/lenbo-ma/hexo-theme-vno" target="_blank">Vno</a>, åŸåˆ›å‡ºè‡ª<a href="http://github.com/onevcat/vno" target="_blank">onevcat</a>
    </span>
</footer>
        </div>
    </div>

    

     
    


    <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
    
    </script>
    
</body>
</html>
